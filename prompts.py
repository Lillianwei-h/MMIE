SA_SYSTEM_PROMPT = '''This evaluation task focuses on seven key criteria that assess different aspects of visual storytelling. Note that the emotional aspect will not add to the score but can decrease the score by 1 point if the response contains negative emotions or other harmful impacts.
Here are the detailed criteria of each aspect: 
1) Text Quality: Evaluate the clarity, grammatical accuracy, and engagement of the text. The narrative should be easy to understand, free from errors, and presented in a way that captures the reader's interest. Descriptions and dialogue should be well-crafted, supporting the overall flow of the story. 
2) Image Quality: Assess the quality of the image descriptions. Although no actual images are present, the descriptions should be vivid, detailed, and clear enough to allow the reader to visualize the scene. Effective image descriptions should enhance the storytelling experience without being overly complex. 
3) Text-Image Coherence: Determine how well the text and image descriptions complement each other. The integration should be seamless, with the visual descriptions enhancing and supporting the narrative. Both elements should work together to create a unified and immersive experience. 
4) Context Consistency: Evaluate the overall consistency of the story's setting, characters, and plot. The narrative should maintain a logical and coherent flow, with no contradictions or inconsistencies in its context or progression. This also includes temporal and spatial transitions, ensuring that the story remains believable and cohesive. 
5) Innovation: Assess the creativity and originality of the content. Look for fresh ideas, unique plotlines, and innovative storytelling techniques. The narrative should avoid clichés and predictable story arcs, using creative visual descriptions to add depth and interest. 
6) Stylistic Consistency and Correspondence: Any image generated by the models must not only align with the original content but also closely replicate the specific visual style of their previous images. Any deviation in color scheme, composition, or artistic technique will lose the point. The text must keep close to the original structure and narrative atmosphere with precision, maintaining the same formatting, tone, and flow. The model’s ability to maintain seamless, stylistically consistent integration between the text and images is crucial for achieving full points.
7) Emotional Impact: This is not a scoring criterion unless the story includes negative emotions. If the response conveys harmful or inappropriate emotions, deduct 1 point. Otherwise, no score change will be made.
I will give you the question and answer pair. You should give your feedback about the quality of the answer, beginning with '### Feedback\n'. After giving the feedback, use the above criteria to give the final score, beginning with '### Score\n'. The final score should be an integer between 0 to 6.'''

PBL_SYSTEM_PROMPT = '''In this task, you will evaluate the quality of the methods generated by the response. Focus on each method’s clarity, practical utility, and effectiveness in achieving the intended goal. This evaluation is based on seven key criteria. Note: The emotional aspect will not contribute to the score, but any harmful intentions or negative impacts should result in a 1-point deduction.
Here are the detailed criteria of each aspect: 
1) Text Quality: The method should be written in clear, understandable language, free from grammatical errors, and structured logically, making it easy to follow and implement. 
2) Image Quality: The image descriptions should be vivid and relevant, enhancing the comprehension of the method by allowing the reader to visualize the steps. The text should still be self-sufficient without the images. 
3) Text-Image Coherence: The images and text should work together seamlessly, with each image description corresponding logically to specific steps in the text, enhancing the overall understanding of the method. 
4) Method Quality and Practical Utility: The method should be actionable, clearly explaining each step in sufficient detail to ensure the user can follow and apply it successfully in real-world scenarios. Depth and thoroughness of the explanation are more important than variety. 
5) Creativity and Engagement: The method should offer a unique or creative approach, making the instructional process engaging while ensuring the method remains clear and effective. 
6) Stylistic Consistency and Correspondence (strict): The images and text must be stylistically uniform throughout. All images must maintain consistency in their visual style (color scheme, composition, and artistic technique) relative to each other and the accompanying text. Even slight deviations in these elements (e.g., different tones, varying image formats) should result in a lower score. The text must reflect the same tone, formatting, and structure as the original content, without shifts in narrative style or atmosphere. Only provide stylistic examples when the model's output achieves perfect coherence and consistency, and such examples should be rare.
7) Emotional Impact (penalty only): This criterion will only be used to deduct points. If the response contains harmful, negative, or inappropriate emotions (such as violence or aggressive language), deduct 1 point. Otherwise, no score change will be made. 
I will give you the question and answer pair. You should give your feedback about the quality of the answer, beginning with '### Feedback\n'. After giving the feedback, use the above criteria to give the final score, beginning with '### Score\n'. The final score should be an integer between 0 to 6.'''

MSR_PROMPT = '''In this task, you will evaluate the quality of the model's response to a math question. The evaluation will focus on five key aspects: 
1) **Question Text Understanding**: Assess whether the model correctly understands and interprets the textual information given in the question, identifying key mathematical elements, relationships, or instructions from the text. 
2) **Question Image Understanding**: Evaluate the model’s understanding of the visual information (if applicable) in the question, including any diagrams, charts, or figures. The model should correctly interpret the visual elements and integrate them into the solution. 
3) **Reasoning Clarity**: The model should provide a c··lear, step-by-step explanation of its reasoning process, logically connecting the problem's details to the steps leading toward a solution. This should be easy to follow and free from unnecessary complexity. 
4) **Partial Correctness in Reasoning**: Even if the final answer is incorrect, evaluate whether the model shows correct intermediate steps, partial reasoning, or progress toward the right solution. This includes identifying whether the model has applied appropriate mathematical principles or formulas in parts of the response. 
5) **Final Answer Accuracy**: Determine whether the model arrives at the correct final answer, based on both the problem statement and the reasoning provided. An accurate answer, supported by correct reasoning, should receive the highest score.
6) **Excellency**: The answer is correct and all the intermediate steps are correct and easy to understand.
I will give you the question and answer pair. You should give your feedback about the quality of the answer, beginning with '### Feedback\n'. After giving the feedback, use the above criteria to give the final score, beginning with '### Score\n'. The final score should be an integer between 0 to 6.'''

def get_prompt(data_id):
    if "SA" in data_id:
        return SA_SYSTEM_PROMPT + "### Question\n{question}\n### Answer\n{answer}\n### Feedback\n"
    elif "PBL" in data_id:
        return PBL_SYSTEM_PROMPT + "### Question\n{question}\n### Answer\n{answer}\n### Feedback\n"
    elif 'MSR' in data_id:
        return MSR_PROMPT + "### Question\n{question}\n### Answer\n{answer}\n### Correct Answer\nThe correct answer to this question should be: {gt_answer}\n### Feedback\n"
    else:
        print("Unrecogonized data.")